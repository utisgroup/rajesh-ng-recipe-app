import { Injectable } from '@angular/core';
import { Subject } from 'rxjs/Subject';

import { Recipe } from './recipe.model';
import { Ingredient } from '../shared/ingredient.model';
import { ShoppingListService } from '../shopping-list/shopping-list.service';

@Injectable()
export class RecipeService {
  recipesChanged = new Subject<Recipe[]>();

  private recipes: Recipe[] = [
    new Recipe(
      'Tasty Schnitzel',
      'A super-tasty Pizza Hut - just awesome!',
      'data:image/jpeg;base64,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',
      [
        new Ingredient('Veg', 1),
        new Ingredient('French Fries', 20)
      ]),
    new Recipe('Big Fat Burger',
      'What else you need to say?',
      'https://upload.wikimedia.org/wikipedia/commons/b/be/Burger_King_Angus_Bacon_%26_Cheese_Steak_Burger.jpg',
      [
        new Ingredient('Buns', 2),
        new Ingredient('Meat', 1)
      ])
  ];

  constructor(private slService: ShoppingListService) {}

  setRecipes(recipes: Recipe[]) {
    this.recipes = recipes;
    this.recipesChanged.next(this.recipes.slice());
  }

  getRecipes() {
    return this.recipes.slice();
  }

  getRecipe(index: number) {
    return this.recipes[index];
  }

  addIngredientsToShoppingList(ingredients: Ingredient[]) {
    this.slService.addIngredients(ingredients);
  }

  addRecipe(recipe: Recipe) {
    this.recipes.push(recipe);
    this.recipesChanged.next(this.recipes.slice());
  }

  updateRecipe(index: number, newRecipe: Recipe) {
    this.recipes[index] = newRecipe;
    this.recipesChanged.next(this.recipes.slice());
  }

  deleteRecipe(index: number) {
    this.recipes.splice(index, 1);
    this.recipesChanged.next(this.recipes.slice());
  }
}
